<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ESEA Outdoors Map</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css"/>
    <link rel="stylesheet" href="styles.css"/>
    <link rel="icon" type="image/x-icon" href="./assets/img/logo.ico">
</head>
<body onload="onStartup()">

<div class="overlay" id="overlay">
    <div class="d-flex justify-content-center">  
        <div class="spinner-border text-warning" id="spinner" role="status" style="display:none;">
            <span class="visually-hidden">Loading...</span>
            </div>
    </div>
</div>

<div id="header"></div>
<script>
    fetch('https://raw.githubusercontent.com/eseaoutdoorsuk/eseaoutdoorsuk.github.io/refs/heads/main/_includes/header.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('header').innerHTML = data;
        })
        .catch(error => console.error('Error loading header:', error));
</script>
 


<div id="map"></div>

<div class="modal fade" id="passwordModal" tabindex="-1" role="dialog" aria-labelledby="passwordModalLabel" aria-hidden="true" style="display:none">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="passwordModalLabel">üîë Admin login</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="passwordInput">Hidden information is accessible only to admins.</label>
                        <input type="password" class="form-control" id="passwordInput" placeholder="Enter admin password">
                    </div>
                    <div class="mb-3 text-danger" id="errorLabel" style="display:none;">Incorrect password. Please try again.</div>
                    <div class="d-grid">
                        <button type="button" class="btn btn-primary" onclick="onLogin()">Login</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="welcomeModal" tabindex="-1" role="dialog" aria-labelledby="welcomeModalLabel" aria-hidden="true" style="display:none">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="welcomeModalLabel">üó∫Ô∏è Welcome</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                üó∫Ô∏è Welcome to the <strong>ESEA Outdoors UK map</strong>! All community members who specified their location at signup appear <strong>anonymously</strong> on this map. Use this map to see where our community is around the UK!
                <br>
                If you want to connect with someone in your local area or elsewhere, please ask an admin to request to connect you. Note there is no obligation for the other person to agree to be connected.
            </div>
        </div>
    </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<script src="script.js"></script>

</body>
</html>
